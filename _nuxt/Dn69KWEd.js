import{r as y,aF as B,am as D,aG as E,aH as V,a8 as b,d as A,D as F,aI as H,Y as I,l as N,n as v,p as h,V as T,C as u,x as O,F as k,y as P,a1 as R,j as d,v as w,P as S,B as j,Z as q,_ as z}from"./CuGlreuw.js";import{u as M}from"./DC2PMduG.js";import{q as W}from"./BaMSJzZe.js";import"./B3uheAhd.js";import"./BBR_Kqcn.js";import"./wSbNHcIL.js";const Y=({interval:i},e)=>{let o=!0,s;const m=(...p)=>{o&&(e(...p),o=!1,s=setTimeout(()=>{o=!0,s=void 0},i))};return m.isThrottled=()=>s!==void 0,m},Z=i=>Y({interval:20},i);function $(i){const e=y(null),o=(_,a=[])=>(_.forEach(t=>{const r=document.getElementById(t.id);r&&a.push({id:t.id,offsetTop:r.offsetTop}),t.children&&o(t.children,a)}),a),s=B(()=>b(i),()=>o(b(i))),m=()=>{const _=Number.parseFloat(getComputedStyle(document.documentElement).getPropertyValue("scroll-margin-top")),a=window.scrollY+(_||64),t=[...s.value].reverse().find(r=>r.offsetTop<=a);e.value=(t==null?void 0:t.id)||null};D("scroll",Z(()=>m()),{passive:!0});const{height:p}=E(document==null?void 0:document.body);return V(p,s.trigger),{activeTocItem:e}}const G=["href","title"],K={class:"widget-title"},L={href:"#main-content","aria-label":"Lên đầu trang"},Q={href:"#twikoo","aria-label":"Bình luận"},J={class:"widget-body"},U={key:1,class:"no-toc"},X=A({__name:"Toc",async setup(i){let e,o;const s=F(),[m,p]=H(),{data:_}=([e,o]=I(()=>M(s.path,()=>W(s.path).findOne(),"$QfZHduD163")),e=await e,o(),e),a=N(()=>{var n,l;return(l=(n=_.value)==null?void 0:n.body)==null?void 0:l.toc}),{activeTocItem:t}=$(()=>{var n;return((n=a.value)==null?void 0:n.links)??[]});function r(n,l){var f;return n.id===l?!0:((f=n.children)==null?void 0:f.some(g=>r(g,l)))??!1}return(n,l)=>{var g;const f=q;return h(),v(k,null,[T(d(m),null,{default:O(({tocItem:x})=>[u("ol",null,[(h(!0),v(k,null,P(x,(c,C)=>(h(),v("li",{key:C,class:R({"has-active":r(c,d(t)),active:c.id===d(t)})},[u("a",{href:`#${c==null?void 0:c.id}`,title:c.text},j(c.text),9,G),c.children?(h(),w(d(p),{key:0,"toc-item":c.children},null,8,["toc-item"])):S("",!0)],2))),128))])]),_:1}),u("h3",K,[l[0]||(l[0]=u("span",{class:"title"},"Mục lục bài viết",-1)),u("a",L,[T(f,{name:"ph:arrow-circle-up-bold"})]),u("a",Q,[T(f,{name:"ph:chat-circle-text-bold"})])]),u("div",J,[(g=d(a))!=null&&g.links?(h(),w(d(p),{key:0,"toc-item":d(a).links},null,8,["toc-item"])):(h(),v("p",U," Không có thông tin mục lục "))])],64)}}}),ct=Object.assign(z(X,[["__scopeId","data-v-ab35b2e4"]]),{__name:"WidgetToc"});export{ct as default};
